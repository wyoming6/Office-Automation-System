{"remainingRequest":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/src/views/processMgr/process/list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/src/views/processMgr/process/list.vue","mtime":1684980275557},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhcGkgZnJvbSAnQC9hcGkvcHJvY2Vzcy9wcm9jZXNzJwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0TG9hZGluZzogdHJ1ZSwgLy8g5pWw5o2u5piv5ZCm5q2j5Zyo5Yqg6L29CiAgICAgIGxpc3Q6IG51bGwsIC8vIGJhbm5lcuWIl+ihqAogICAgICB0b3RhbDogMCwgLy8g5pWw5o2u5bqT5Lit55qE5oC76K6w5b2V5pWwCiAgICAgIHBhZ2U6IDEsIC8vIOm7mOiupOmhteeggQogICAgICBsaW1pdDogMTAsIC8vIOavj+mhteiusOW9leaVsAogICAgICBzZWFyY2hPYmo6IHt9LCAvLyDmn6Xor6LooajljZXlr7nosaEKICAgICAgc3RhdHVzTGlzdDogWwogICAgICAgIHsgJ3N0YXR1cyc6ICcxJywgJ25hbWUnOiAn6L+b6KGM5LitJyB9LAogICAgICAgIHsgJ3N0YXR1cyc6ICcyJywgJ25hbWUnOiAn5bey5a6M5oiQJyB9LAogICAgICAgIHsgJ3N0YXR1cyc6ICctMScsICduYW1lJzogJ+mps+WbnicgfQogICAgICBdLAogICAgICBjcmVhdGVUaW1lczogW10KICAgIH0KICB9LAoKICAvLyDnlJ/lkb3lkajmnJ/lh73mlbDvvJrlhoXlrZjlh4blpIflrozmr5XvvIzpobXpnaLlsJrmnKrmuLLmn5MKICBjcmVhdGVkKCkgewogICAgY29uc29sZS5sb2coJ2xpc3QgY3JlYXRlZC4uLi4uLicpCiAgICB0aGlzLmZldGNoRGF0YSgpCiAgfSwKCiAgLy8g55Sf5ZG95ZGo5pyf5Ye95pWw77ya5YaF5a2Y5YeG5aSH5a6M5q+V77yM6aG16Z2i5riy5p+T5oiQ5YqfCiAgbW91bnRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCdsaXN0IG1vdW50ZWQuLi4uLi4nKQogIH0sCgogIG1ldGhvZHM6IHsKICAgIC8vIOW9k+mhteeggeWPkeeUn+aUueWPmOeahOaXtuWAmQogICAgY2hhbmdlU2l6ZShzaXplKSB7CiAgICAgIGNvbnNvbGUubG9nKHNpemUpCiAgICAgIHRoaXMubGltaXQgPSBzaXplCiAgICAgIHRoaXMuZmV0Y2hEYXRhKDEpCiAgICB9LAoKICAgIC8vIOWKoOi9vWJhbm5lcuWIl+ihqOaVsOaNrgogICAgZmV0Y2hEYXRhKHBhZ2UgPSAxKSB7CiAgICAgIGNvbnNvbGUubG9nKCfnv7vpobXjgILjgILjgIInICsgcGFnZSkKICAgICAgLy8g5byC5q2l6I635Y+W6L+c56iL5pWw5o2u77yIYWpheO+8iQogICAgICB0aGlzLnBhZ2UgPSBwYWdlCgogICAgICBpZiAodGhpcy5jcmVhdGVUaW1lcyAmJiB0aGlzLmNyZWF0ZVRpbWVzLmxlbmd0aCA9PT0gMikgewogICAgICAgIHRoaXMuc2VhcmNoT2JqLmNyZWF0ZVRpbWVCZWdpbiA9IHRoaXMuY3JlYXRlVGltZXNbMF0KICAgICAgICB0aGlzLnNlYXJjaE9iai5jcmVhdGVUaW1lRW5kID0gdGhpcy5jcmVhdGVUaW1lc1sxXQogICAgICB9CgogICAgICBhcGkuZ2V0UGFnZUxpc3QodGhpcy5wYWdlLCB0aGlzLmxpbWl0LCB0aGlzLnNlYXJjaE9iaikudGhlbigKICAgICAgICByZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLmxpc3QgPSByZXNwb25zZS5kYXRhLnJlY29yZHMKICAgICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsCgogICAgICAgICAgLy8g5pWw5o2u5Yqg6L295bm257uR5a6a5oiQ5YqfCiAgICAgICAgICB0aGlzLmxpc3RMb2FkaW5nID0gZmFsc2UKICAgICAgICB9CiAgICAgICkKICAgIH0sCgogICAgLy8g6YeN572u5p+l6K+i6KGo5Y2VCiAgICByZXNldERhdGEoKSB7CiAgICAgIGNvbnNvbGUubG9nKCfph43nva7mn6Xor6LooajljZUnKQogICAgICB0aGlzLnNlYXJjaE9iaiA9IHt9CiAgICAgIHRoaXMuZmV0Y2hEYXRhKCkKICAgIH0sCiAgICAgIAogICAgc2hvdyhpZCkgewogICAgICAgY29uc29sZS5sb2coaWQpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/processMgr/process","sourcesContent":["<template>\n  <div class=\"app-container\">\n\n    <div class=\"search-div\">\n      <el-form label-width=\"70px\" size=\"small\">\n        <el-row>\n          <el-col :span=\"8\">\n            <el-form-item label=\"关 键 字\">\n              <el-input style=\"width: 95%\" v-model=\"searchObj.keyword\" placeholder=\"审批编号/标题/手机号码/姓名\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item label=\"状态\">\n              <el-select\n                v-model=\"searchObj.status\"\n                placeholder=\"请选状态\" style=\"width: 100%;\"\n              >\n                <el-option\n                  v-for=\"item in statusList\"\n                  :key=\"item.status\"\n                  :label=\"item.name\"\n                  :value=\"item.status\"\n                />\n              </el-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item label=\"操作时间\">\n              <el-date-picker\n                v-model=\"createTimes\"\n                type=\"datetimerange\"\n                range-separator=\"至\"\n                start-placeholder=\"开始时间\"\n                end-placeholder=\"结束时间\"\n                value-format=\"yyyy-MM-dd HH:mm:ss\"\n                style=\"margin-right: 10px;width: 100%;\"\n              />\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row style=\"display:flex\">\n          <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" :loading=\"loading\" @click=\"fetchData()\">搜索\n          </el-button>\n          <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetData\">重置</el-button>\n        </el-row>\n      </el-form>\n    </div>\n    <!-- 列表 -->\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"list\"\n      stripe\n      border\n      style=\"width: 100%;margin-top: 10px;\"\n    >\n\n      <el-table-column\n        label=\"序号\"\n        width=\"70\"\n        align=\"center\"\n      >\n        <template slot-scope=\"scope\">\n          {{ (page - 1) * limit + scope.$index + 1 }}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"processCode\" label=\"审批编号\" width=\"130\"/>\n      <el-table-column prop=\"title\" label=\"标题\" width=\"180\"/>\n      <el-table-column prop=\"name\" label=\"用户\"/>\n      <el-table-column prop=\"processTypeName\" label=\"审批类型\"/>\n      <el-table-column prop=\"processTemplateName\" label=\"审批模板\"/>\n      <el-table-column prop=\"description\" label=\"描述\" width=\"180\"/>\n      <el-table-column label=\"状态\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.status === 1 ? '审批中' : scope.row.status === 2 ? '完成' : '驳回' }}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"160\"/>\n\n      <el-table-column label=\"操作\" width=\"120\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" size=\"mini\" @click=\"show(scope.row.id)\">查看</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 分页组件 -->\n    <el-pagination\n      :current-page=\"page\"\n      :total=\"total\"\n      :page-size=\"limit\"\n      :page-sizes=\"[5, 10, 20, 30, 40, 50, 100]\"\n      style=\"padding: 30px 0; text-align: center;\"\n      layout=\"sizes, prev, pager, next, jumper, ->, total, slot\"\n      @current-change=\"fetchData\"\n      @size-change=\"changeSize\"\n    />\n  </div>\n</template>\n\n<script>\nimport api from '@/api/process/process'\n\nexport default {\n  data() {\n    return {\n      listLoading: true, // 数据是否正在加载\n      list: null, // banner列表\n      total: 0, // 数据库中的总记录数\n      page: 1, // 默认页码\n      limit: 10, // 每页记录数\n      searchObj: {}, // 查询表单对象\n      statusList: [\n        { 'status': '1', 'name': '进行中' },\n        { 'status': '2', 'name': '已完成' },\n        { 'status': '-1', 'name': '驳回' }\n      ],\n      createTimes: []\n    }\n  },\n\n  // 生命周期函数：内存准备完毕，页面尚未渲染\n  created() {\n    console.log('list created......')\n    this.fetchData()\n  },\n\n  // 生命周期函数：内存准备完毕，页面渲染成功\n  mounted() {\n    console.log('list mounted......')\n  },\n\n  methods: {\n    // 当页码发生改变的时候\n    changeSize(size) {\n      console.log(size)\n      this.limit = size\n      this.fetchData(1)\n    },\n\n    // 加载banner列表数据\n    fetchData(page = 1) {\n      console.log('翻页。。。' + page)\n      // 异步获取远程数据（ajax）\n      this.page = page\n\n      if (this.createTimes && this.createTimes.length === 2) {\n        this.searchObj.createTimeBegin = this.createTimes[0]\n        this.searchObj.createTimeEnd = this.createTimes[1]\n      }\n\n      api.getPageList(this.page, this.limit, this.searchObj).then(\n        response => {\n          this.list = response.data.records\n          this.total = response.data.total\n\n          // 数据加载并绑定成功\n          this.listLoading = false\n        }\n      )\n    },\n\n    // 重置查询表单\n    resetData() {\n      console.log('重置查询表单')\n      this.searchObj = {}\n      this.fetchData()\n    },\n      \n    show(id) {\n       console.log(id)\n    }\n  }\n}\n</script>"]}]}