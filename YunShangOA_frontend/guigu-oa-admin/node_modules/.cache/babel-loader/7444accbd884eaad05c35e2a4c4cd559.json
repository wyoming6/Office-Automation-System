{"remainingRequest":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/babel-loader/lib/index.js!/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/src/views/processSet/processType/list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/src/views/processSet/processType/list.vue","mtime":1684891477570},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/babel.config.js","mtime":1682639355350},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhcGkgZnJvbSAnQC9hcGkvcHJvY2Vzcy9wcm9jZXNzVHlwZSc7CnZhciBkZWZhdWx0Rm9ybSA9IHsKICBpZDogJycsCiAgbmFtZTogJycsCiAgZGVzY3JpcHRpb246ICcnCn07CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdExvYWRpbmc6IHRydWUsCiAgICAgIC8vIOaVsOaNruaYr+WQpuato+WcqOWKoOi9vQogICAgICBsaXN0OiBudWxsLAogICAgICAvLyBiYW5uZXLliJfooagKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOaVsOaNruW6k+S4reeahOaAu+iusOW9leaVsAogICAgICBwYWdlOiAxLAogICAgICAvLyDpu5jorqTpobXnoIEKICAgICAgbGltaXQ6IDEwLAogICAgICAvLyDmr4/pobXorrDlvZXmlbAKICAgICAgc2VhcmNoT2JqOiB7fSwKICAgICAgLy8g5p+l6K+i6KGo5Y2V5a+56LGhCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBwcm9jZXNzVHlwZTogZGVmYXVsdEZvcm0sCiAgICAgIHNhdmVCdG5EaXNhYmxlZDogZmFsc2UKICAgIH07CiAgfSwKICAvLyDnlJ/lkb3lkajmnJ/lh73mlbDvvJrlhoXlrZjlh4blpIflrozmr5XvvIzpobXpnaLlsJrmnKrmuLLmn5MKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaERhdGEoKTsKICB9LAogIC8vIOeUn+WRveWRqOacn+WHveaVsO+8muWGheWtmOWHhuWkh+WujOavle+8jOmhtemdoua4suafk+aIkOWKnwogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICAvLyDlvZPpobXnoIHlj5HnlJ/mlLnlj5jnmoTml7blgJkKICAgIGNoYW5nZVNpemU6IGZ1bmN0aW9uIGNoYW5nZVNpemUoc2l6ZSkgewogICAgICBjb25zb2xlLmxvZyhzaXplKTsKICAgICAgdGhpcy5saW1pdCA9IHNpemU7CiAgICAgIHRoaXMuZmV0Y2hEYXRhKDEpOwogICAgfSwKICAgIC8vIOWKoOi9veWIl+ihqOaVsOaNrgogICAgZmV0Y2hEYXRhOiBmdW5jdGlvbiBmZXRjaERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBwYWdlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxOwogICAgICB0aGlzLnBhZ2UgPSBwYWdlOwogICAgICBhcGkuZ2V0UGFnZUxpc3QodGhpcy5wYWdlLCB0aGlzLmxpbWl0LCB0aGlzLnNlYXJjaE9iaikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5saXN0ID0gcmVzcG9uc2UuZGF0YS5yZWNvcmRzOwogICAgICAgIF90aGlzLnRvdGFsID0gcmVzcG9uc2UuZGF0YS50b3RhbDsKICAgICAgICAvLyDmlbDmja7liqDovb3lubbnu5HlrprmiJDlip8KICAgICAgICBfdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDph43nva7mn6Xor6LooajljZUKICAgIHJlc2V0RGF0YTogZnVuY3Rpb24gcmVzZXREYXRhKCkgewogICAgICBjb25zb2xlLmxvZygn6YeN572u5p+l6K+i6KGo5Y2VJyk7CiAgICAgIHRoaXMuc2VhcmNoT2JqID0ge307CiAgICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgICB9LAogICAgLy8g5qC55o2uaWTliKDpmaTmlbDmja4KICAgIHJlbW92ZURhdGFCeUlkOiBmdW5jdGlvbiByZW1vdmVEYXRhQnlJZChpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l6K6w5b2VLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIC8vIHByb21pc2UKICAgICAgICAvLyDngrnlh7vnoa7lrprvvIzov5znqIvosIPnlKhhamF4CiAgICAgICAgcmV0dXJuIGFwaS5yZW1vdmVCeUlkKGlkKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIuZmV0Y2hEYXRhKF90aGlzMi5wYWdlKTsKICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2VzcyhyZXNwb25zZS5tZXNzYWdlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kbWVzc2FnZS5pbmZvKCflj5bmtojliKDpmaQnKTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMucHJvY2Vzc1R5cGUgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0Rm9ybSk7CiAgICB9LAogICAgZWRpdDogZnVuY3Rpb24gZWRpdChpZCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLmZldGNoRGF0YUJ5SWQoaWQpOwogICAgfSwKICAgIGZldGNoRGF0YUJ5SWQ6IGZ1bmN0aW9uIGZldGNoRGF0YUJ5SWQoaWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIGFwaS5nZXRCeUlkKGlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMy5wcm9jZXNzVHlwZSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmVPclVwZGF0ZTogZnVuY3Rpb24gc2F2ZU9yVXBkYXRlKCkgewogICAgICB0aGlzLnNhdmVCdG5EaXNhYmxlZCA9IHRydWU7IC8vIOmYsuatouihqOWNlemHjeWkjeaPkOS6pAogICAgICBpZiAoIXRoaXMucHJvY2Vzc1R5cGUuaWQpIHsKICAgICAgICB0aGlzLnNhdmVEYXRhKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy51cGRhdGVEYXRhKCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmlrDlop4KICAgIHNhdmVEYXRhOiBmdW5jdGlvbiBzYXZlRGF0YSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIGFwaS5zYXZlKHRoaXMucHJvY2Vzc1R5cGUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM0LiRtZXNzYWdlLnN1Y2Nlc3MocmVzcG9uc2UubWVzc2FnZSB8fCAn5pON5L2c5oiQ5YqfJyk7CiAgICAgICAgX3RoaXM0LmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICBfdGhpczQuZmV0Y2hEYXRhKF90aGlzNC5wYWdlKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5qC55o2uaWTmm7TmlrDorrDlvZUKICAgIHVwZGF0ZURhdGE6IGZ1bmN0aW9uIHVwZGF0ZURhdGEoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICBhcGkudXBkYXRlQnlJZCh0aGlzLnByb2Nlc3NUeXBlKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzNS4kbWVzc2FnZS5zdWNjZXNzKHJlc3BvbnNlLm1lc3NhZ2UgfHwgJ+aTjeS9nOaIkOWKnycpOwogICAgICAgIF90aGlzNS5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgX3RoaXM1LmZldGNoRGF0YShfdGhpczUucGFnZSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["api","defaultForm","id","name","description","data","listLoading","list","total","page","limit","searchObj","dialogVisible","processType","saveBtnDisabled","created","fetchData","mounted","methods","changeSize","size","console","log","_this","arguments","length","undefined","getPageList","then","response","records","resetData","removeDataById","_this2","$confirm","confirmButtonText","cancelButtonText","type","removeById","$message","success","message","catch","info","add","Object","assign","edit","fetchDataById","_this3","getById","saveOrUpdate","saveData","updateData","_this4","save","_this5","updateById"],"sources":["src/views/processSet/processType/list.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <!-- 工具条 -->\n    <div class=\"tools-div\">\n      <el-button type=\"success\" icon=\"el-icon-plus\" size=\"mini\" @click=\"add\" :disabled=\"$hasBP('bnt.processType.add')  === false\">添 加</el-button>\n    </div>\n    <!-- banner列表 -->\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"list\"\n      stripe\n      border\n      style=\"width: 100%;margin-top: 10px;\"\n    >\n      <el-table-column\n        type=\"selection\"\n        width=\"55\"\n      />\n      <el-table-column\n        label=\"序号\"\n        width=\"70\"\n        align=\"center\"\n      >\n        <template slot-scope=\"scope\">\n          {{ (page - 1) * limit + scope.$index + 1 }}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"name\" label=\"类型名称\"/>\n      <el-table-column prop=\"description\" label=\"描述\"/>\n      <el-table-column prop=\"createTime\" label=\"创建时间\"/>\n      <el-table-column prop=\"updateTime\" label=\"更新时间\"/>\n      <el-table-column label=\"操作\" width=\"200\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" size=\"mini\" @click=\"edit(scope.row.id)\" :disabled=\"$hasBP('bnt.processType.update')  === false\">修改</el-button>\n          <el-button type=\"text\" size=\"mini\" @click=\"removeDataById(scope.row.id)\" :disabled=\"$hasBP('bnt.processType.remove')  === false\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!-- 分页组件 -->\n    <el-pagination\n      :current-page=\"page\"\n      :total=\"total\"\n      :page-size=\"limit\"\n      :page-sizes=\"[5, 10, 20, 30, 40, 50, 100]\"\n      style=\"padding: 30px 0; text-align: center;\"\n      layout=\"sizes, prev, pager, next, jumper, ->, total, slot\"\n      @current-change=\"fetchData\"\n      @size-change=\"changeSize\"\n    />\n    <el-dialog title=\"添加/修改\" :visible.sync=\"dialogVisible\" width=\"40%\">\n      <el-form ref=\"flashPromotionForm\" label-width=\"150px\" size=\"small\" style=\"padding-right: 40px;\">\n        <el-form-item label=\"类型名称\">\n          <el-input v-model=\"processType.name\"/>\n        </el-form-item>\n        <el-form-item label=\"描述\">\n          <el-input v-model=\"processType.description\"/>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\" size=\"small\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"saveOrUpdate()\" size=\"small\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport api from '@/api/process/processType'\n\nconst defaultForm = {\n  id: '',\n  name: '',\n  description: ''\n}\nexport default {\n  data() {\n    return {\n      listLoading: true, // 数据是否正在加载\n      list: null, // banner列表\n      total: 0, // 数据库中的总记录数\n      page: 1, // 默认页码\n      limit: 10, // 每页记录数\n      searchObj: {}, // 查询表单对象\n      dialogVisible: false,\n      processType: defaultForm,\n      saveBtnDisabled: false\n    }\n  },\n  // 生命周期函数：内存准备完毕，页面尚未渲染\n  created() {\n    this.fetchData()\n  },\n  // 生命周期函数：内存准备完毕，页面渲染成功\n  mounted() {\n  },\n  methods: {\n    // 当页码发生改变的时候\n    changeSize(size) {\n      console.log(size)\n      this.limit = size\n      this.fetchData(1)\n    },\n    // 加载列表数据\n    fetchData(page = 1) {\n      this.page = page\n      api.getPageList(this.page, this.limit, this.searchObj).then(response => {\n        this.list = response.data.records\n        this.total = response.data.total\n        // 数据加载并绑定成功\n        this.listLoading = false\n      })\n    },\n    // 重置查询表单\n    resetData() {\n      console.log('重置查询表单')\n      this.searchObj = {}\n      this.fetchData()\n    },\n    // 根据id删除数据\n    removeDataById(id) {\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => { // promise\n        // 点击确定，远程调用ajax\n        return api.removeById(id)\n      }).then((response) => {\n        this.fetchData(this.page)\n        this.$message.success(response.message)\n      }).catch(() => {\n        this.$message.info('取消删除')\n      })\n    },\n    add() {\n      this.dialogVisible = true\n      this.processType = Object.assign({}, defaultForm)\n    },\n    edit(id) {\n      this.dialogVisible = true\n      this.fetchDataById(id)\n    },\n    fetchDataById(id) {\n      api.getById(id).then(response => {\n        this.processType = response.data\n      })\n    },\n    saveOrUpdate() {\n      this.saveBtnDisabled = true // 防止表单重复提交\n      if (!this.processType.id) {\n        this.saveData()\n      } else {\n        this.updateData()\n      }\n    },\n    // 新增\n    saveData() {\n      api.save(this.processType).then(response => {\n        this.$message.success(response.message || '操作成功')\n        this.dialogVisible = false\n        this.fetchData(this.page)\n      })\n    },\n    // 根据id更新记录\n    updateData() {\n      api.updateById(this.processType).then(response => {\n        this.$message.success(response.message || '操作成功')\n        this.dialogVisible = false\n        this.fetchData(this.page)\n      })\n    }\n  }\n}\n</script>"],"mappings":"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"}]}