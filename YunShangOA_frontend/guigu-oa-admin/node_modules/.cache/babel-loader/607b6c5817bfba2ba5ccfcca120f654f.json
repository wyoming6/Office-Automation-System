{"remainingRequest":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/babel-loader/lib/index.js!/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/src/views/system/sysMenu/list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/src/views/system/sysMenu/list.vue","mtime":1683509450715},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/babel.config.js","mtime":1682639355350},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgYXBpIGZyb20gJ0AvYXBpL3N5c3RlbS9zeXNNZW51JzsKdmFyIGRlZmF1bHRGb3JtID0gewogIGlkOiAnJywKICBwYXJlbnRJZDogJycsCiAgbmFtZTogJycsCiAgdHlwZTogMCwKICBwYXRoOiAnJywKICBjb21wb25lbnQ6ICcnLAogIHBlcm1zOiAnJywKICBpY29uOiAnJywKICBzb3J0VmFsdWU6IDEsCiAgc3RhdHVzOiAxCn07CmV4cG9ydCBkZWZhdWx0IHsKICAvLyDlrprkuYnmlbDmja4KICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3lzTWVudUxpc3Q6IFtdLAogICAgICBleHBhbmRLZXlzOiBbXSwKICAgICAgLy8g6ZyA6KaB6Ieq5Yqo5bGV5byA55qE6aG5CgogICAgICB0eXBlRGlzYWJsZWQ6IGZhbHNlLAogICAgICB0eXBlMERpc2FibGVkOiBmYWxzZSwKICAgICAgdHlwZTFEaXNhYmxlZDogZmFsc2UsCiAgICAgIHR5cGUyRGlzYWJsZWQ6IGZhbHNlLAogICAgICBkaWFsb2dUaXRsZTogJycsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBzeXNNZW51OiBkZWZhdWx0Rm9ybSwKICAgICAgc2F2ZUJ0bkRpc2FibGVkOiBmYWxzZSwKICAgICAgaWNvbkxpc3Q6IFt7CiAgICAgICAgY2xhc3M6ICJlbC1pY29uLXMtdG9vbHMiCiAgICAgIH0sIHsKICAgICAgICBjbGFzczogImVsLWljb24tcy1jdXN0b20iCiAgICAgIH0sIHsKICAgICAgICBjbGFzczogImVsLWljb24tc2V0dGluZyIKICAgICAgfSwgewogICAgICAgIGNsYXNzOiAiZWwtaWNvbi11c2VyLXNvbGlkIgogICAgICB9LCB7CiAgICAgICAgY2xhc3M6ICJlbC1pY29uLXMtaGVscCIKICAgICAgfSwgewogICAgICAgIGNsYXNzOiAiZWwtaWNvbi1waG9uZSIKICAgICAgfSwgewogICAgICAgIGNsYXNzOiAiZWwtaWNvbi1zLXVuZm9sZCIKICAgICAgfSwgewogICAgICAgIGNsYXNzOiAiZWwtaWNvbi1zLW9wZXJhdGlvbiIKICAgICAgfSwgewogICAgICAgIGNsYXNzOiAiZWwtaWNvbi1tb3JlLW91dGxpbmUiCiAgICAgIH0sIHsKICAgICAgICBjbGFzczogImVsLWljb24tcy1jaGVjayIKICAgICAgfSwgewogICAgICAgIGNsYXNzOiAiZWwtaWNvbi10aWNrZXRzIgogICAgICB9LCB7CiAgICAgICAgY2xhc3M6ICJlbC1pY29uLXMtZ29vZHMiCiAgICAgIH0sIHsKICAgICAgICBjbGFzczogImVsLWljb24tZG9jdW1lbnQtcmVtb3ZlIgogICAgICB9LCB7CiAgICAgICAgY2xhc3M6ICJlbC1pY29uLXdhcm5pbmciCiAgICAgIH0sIHsKICAgICAgICBjbGFzczogImVsLWljb24td2FybmluZy1vdXRsaW5lIgogICAgICB9LCB7CiAgICAgICAgY2xhc3M6ICJlbC1pY29uLXF1ZXN0aW9uIgogICAgICB9LCB7CiAgICAgICAgY2xhc3M6ICJlbC1pY29uLWluZm8iCiAgICAgIH1dCiAgICB9OwogIH0sCiAgLy8g5b2T6aG16Z2i5Yqg6L295pe26I635Y+W5pWw5o2uCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDosIPnlKhhcGnlsYLojrflj5bmlbDmja7lupPkuK3nmoTmlbDmja4KICAgIGZldGNoRGF0YTogZnVuY3Rpb24gZmV0Y2hEYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBjb25zb2xlLmxvZygn5Yqg6L295YiX6KGoJyk7CiAgICAgIGFwaS5maW5kTm9kZXMoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLnN5c01lbnVMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5zeXNNZW51TGlzdCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOagueaNrmlk5Yig6Zmk5pWw5o2uCiAgICByZW1vdmVEYXRhQnlJZDogZnVuY3Rpb24gcmVtb3ZlRGF0YUJ5SWQoaWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIC8vIGRlYnVnZ2VyCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeiusOW9lSwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBwcm9taXNlCiAgICAgICAgLy8g54K55Ye756Gu5a6a77yM6L+c56iL6LCD55SoYWpheAogICAgICAgIHJldHVybiBhcGkucmVtb3ZlQnlJZChpZCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLmZldGNoRGF0YSgpOwogICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfIScKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kbWVzc2FnZS5pbmZvKCflj5bmtojliKDpmaQnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8gLS0tLS0tLS0tLS0tLQogICAgYWRkOiBmdW5jdGlvbiBhZGQocm93KSB7CiAgICAgIGRlYnVnZ2VyOwogICAgICB0aGlzLnR5cGVEaXNhYmxlZCA9IGZhbHNlOwogICAgICB0aGlzLmRpYWxvZ1RpdGxlID0gJ+a3u+WKoOS4i+e6p+iKgueCuSc7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuc3lzTWVudSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRGb3JtKTsKICAgICAgdGhpcy5zeXNNZW51LmlkID0gJyc7CiAgICAgIGlmIChyb3cpIHsKICAgICAgICB0aGlzLnN5c01lbnUucGFyZW50SWQgPSByb3cuaWQ7CiAgICAgICAgdGhpcy5zeXNNZW51LnBhcmVudE5hbWUgPSByb3cubmFtZTsKICAgICAgICAvL3RoaXMuc3lzTWVudS5jb21wb25lbnQgPSAnUGFyZW50VmlldycKICAgICAgICBpZiAocm93LnR5cGUgPT09IDApIHsKICAgICAgICAgIHRoaXMuc3lzTWVudS50eXBlID0gMTsKICAgICAgICAgIHRoaXMudHlwZURpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnR5cGUwRGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMudHlwZTFEaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgdGhpcy50eXBlMkRpc2FibGVkID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKHJvdy50eXBlID09PSAxKSB7CiAgICAgICAgICB0aGlzLnN5c01lbnUudHlwZSA9IDI7CiAgICAgICAgICB0aGlzLnR5cGVEaXNhYmxlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAn5re75Yqg55uu5b2V6IqC54K5JzsKICAgICAgICB0aGlzLnN5c01lbnUudHlwZSA9IDA7CiAgICAgICAgdGhpcy5zeXNNZW51LmNvbXBvbmVudCA9ICdMYXlvdXQnOwogICAgICAgIHRoaXMuc3lzTWVudS5wYXJlbnRJZCA9IDA7CiAgICAgICAgdGhpcy50eXBlRGlzYWJsZWQgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgZWRpdDogZnVuY3Rpb24gZWRpdChyb3cpIHsKICAgICAgZGVidWdnZXI7CiAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAn5L+u5pS56IqC54K5JzsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5zeXNNZW51ID0gT2JqZWN0LmFzc2lnbih7fSwgcm93KTsKICAgICAgdGhpcy50eXBlRGlzYWJsZWQgPSB0cnVlOwogICAgfSwKICAgIHNhdmVPclVwZGF0ZTogZnVuY3Rpb24gc2F2ZU9yVXBkYXRlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgaWYgKHRoaXMuc3lzTWVudS50eXBlID09PSAwICYmIHRoaXMuc3lzTWVudS5wYXJlbnRJZCAhPT0gMCkgewogICAgICAgIHRoaXMuc3lzTWVudS5jb21wb25lbnQgPSAnUGFyZW50Vmlldyc7CiAgICAgIH0KICAgICAgdGhpcy4kcmVmcy5kYXRhRm9ybS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIF90aGlzMy5zYXZlQnRuRGlzYWJsZWQgPSB0cnVlOyAvLyDpmLLmraLooajljZXph43lpI3mj5DkuqQKICAgICAgICAgIGlmICghX3RoaXMzLnN5c01lbnUuaWQpIHsKICAgICAgICAgICAgX3RoaXMzLnNhdmVEYXRhKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczMudXBkYXRlRGF0YSgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5paw5aKeCiAgICBzYXZlRGF0YTogZnVuY3Rpb24gc2F2ZURhdGEoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICBhcGkuc2F2ZSh0aGlzLnN5c01lbnUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM0LiRtZXNzYWdlLnN1Y2Nlc3MocmVzcG9uc2UubWVzc2FnZSB8fCAn5pON5L2c5oiQ5YqfJyk7CiAgICAgICAgX3RoaXM0LmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICBfdGhpczQuZmV0Y2hEYXRhKF90aGlzNC5wYWdlKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5qC55o2uaWTmm7TmlrDorrDlvZUKICAgIHVwZGF0ZURhdGE6IGZ1bmN0aW9uIHVwZGF0ZURhdGEoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICBhcGkudXBkYXRlQnlJZCh0aGlzLnN5c01lbnUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM1LiRtZXNzYWdlLnN1Y2Nlc3MocmVzcG9uc2UubWVzc2FnZSB8fCAn5pON5L2c5oiQ5YqfJyk7CiAgICAgICAgX3RoaXM1LmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICBfdGhpczUuZmV0Y2hEYXRhKCk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["api","defaultForm","id","parentId","name","type","path","component","perms","icon","sortValue","status","data","sysMenuList","expandKeys","typeDisabled","type0Disabled","type1Disabled","type2Disabled","dialogTitle","dialogVisible","sysMenu","saveBtnDisabled","iconList","class","created","fetchData","methods","_this","console","log","findNodes","then","response","removeDataById","_this2","$confirm","confirmButtonText","cancelButtonText","removeById","$message","message","catch","info","add","row","Object","assign","parentName","edit","saveOrUpdate","_this3","$refs","dataForm","validate","valid","saveData","updateData","_this4","save","success","page","_this5","updateById"],"sources":["src/views/system/sysMenu/list.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n\n    <!-- 工具条 -->\n    <div class=\"tools-div\">\n      <el-button type=\"success\" icon=\"el-icon-plus\" size=\"mini\" @click=\"add()\">添 加</el-button>\n    </div>\n    <el-table\n      :data=\"sysMenuList\"\n      style=\"width: 100%;margin-bottom: 20px;margin-top: 10px;\"\n      row-key=\"id\"\n      border\n      :default-expand-all=\"false\"\n      :tree-props=\"{children: 'children'}\">\n\n      <el-table-column prop=\"name\" label=\"菜单名称\" width=\"160\"/>\n      <el-table-column label=\"图标\">\n        <template slot-scope=\"scope\">\n          <i :class=\"scope.row.icon\"></i>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"perms\" label=\"权限标识\" width=\"160\"/>\n      <el-table-column prop=\"path\" label=\"路由地址\" width=\"120\"/>\n      <el-table-column prop=\"component\" label=\"组件路径\" width=\"160\"/>\n      <el-table-column prop=\"sortValue\" label=\"排序\" width=\"60\"/>\n      <el-table-column label=\"状态\" width=\"80\">\n        <template slot-scope=\"scope\">\n          <el-switch\n            v-model=\"scope.row.status === 1\" disabled=\"true\">\n          </el-switch>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"160\"/>\n      <el-table-column label=\"操作\" width=\"180\" align=\"center\" fixed=\"right\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"success\" v-if=\"scope.row.type !== 2\" icon=\"el-icon-plus\" size=\"mini\" @click=\"add(scope.row)\" title=\"添加下级节点\"/>\n          <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"edit(scope.row)\" title=\"修改\"/>\n          <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"removeDataById(scope.row.id)\" title=\"删除\" :disabled=\"scope.row.children.length > 0\"/>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogVisible\" width=\"40%\" >\n      <el-form ref=\"dataForm\" :model=\"sysMenu\" label-width=\"150px\" size=\"small\" style=\"padding-right: 40px;\">\n        <el-form-item label=\"上级部门\" v-if=\"sysMenu.id === ''\">\n          <el-input v-model=\"sysMenu.parentName\" disabled=\"true\"/>\n        </el-form-item>\n        <el-form-item label=\"菜单类型\" prop=\"type\">\n          <el-radio-group v-model=\"sysMenu.type\" :disabled=\"typeDisabled\">\n            <el-radio :label=\"0\" :disabled=\"type0Disabled\">目录</el-radio>\n            <el-radio :label=\"1\" :disabled=\"type1Disabled\">菜单</el-radio>\n            <el-radio :label=\"2\" :disabled=\"type2Disabled\">按钮</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"菜单名称\" prop=\"name\">\n          <el-input v-model=\"sysMenu.name\"/>\n        </el-form-item>\n        <el-form-item label=\"图标\" prop=\"icon\" v-if=\"sysMenu.type !== 2\">\n          <el-select v-model=\"sysMenu.icon\" clearable>\n            <el-option v-for=\"item in iconList\" :key=\"item.class\" :label=\"item.class\" :value=\"item.class\">\n            <span style=\"float: left;\">\n             <i :class=\"item.class\"></i>  <!-- 如果动态显示图标，这里添加判断 -->\n            </span>\n              <span style=\"padding-left: 6px;\">{{ item.class }}</span>\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"排序\">\n          <el-input-number v-model=\"sysMenu.sortValue\" controls-position=\"right\" :min=\"0\" />\n        </el-form-item>\n        <el-form-item prop=\"path\">\n              <span slot=\"label\">\n                <el-tooltip content=\"访问的路由地址，如：`sysUser`\" placement=\"top\">\n                <i class=\"el-icon-question\"></i>\n                </el-tooltip>\n                路由地址\n              </span>\n          <el-input v-model=\"sysMenu.path\" placeholder=\"请输入路由地址\" />\n        </el-form-item>\n        <el-form-item prop=\"component\" v-if=\"sysMenu.type !== 0\">\n              <span slot=\"label\">\n                <el-tooltip content=\"访问的组件路径，如：`system/user/index`，默认在`views`目录下\" placement=\"top\">\n                <i class=\"el-icon-question\"></i>\n                </el-tooltip>\n                组件路径\n              </span>\n          <el-input v-model=\"sysMenu.component\" placeholder=\"请输入组件路径\" />\n        </el-form-item>\n        <el-form-item v-if=\"sysMenu.type === 2\">\n          <el-input v-model=\"sysMenu.perms\" placeholder=\"请输入权限标识\" maxlength=\"100\" />\n          <span slot=\"label\">\n                <el-tooltip content=\"控制器中定义的权限字符，如：@PreAuthorize(hasAuthority('bnt.sysRole.list'))\" placement=\"top\">\n                <i class=\"el-icon-question\"></i>\n                </el-tooltip>\n                权限字符\n              </span>\n        </el-form-item>\n        <el-form-item label=\"状态\" prop=\"type\">\n          <el-radio-group v-model=\"sysMenu.status\">\n            <el-radio :label=\"1\">正常</el-radio>\n            <el-radio :label=\"0\">停用</el-radio>\n          </el-radio-group>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\" size=\"small\" icon=\"el-icon-refresh-right\">取 消</el-button>\n        <el-button type=\"primary\" icon=\"el-icon-check\" @click=\"saveOrUpdate()\" size=\"small\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n\n<script>\nimport api from '@/api/system/sysMenu'\nconst defaultForm = {\n  id: '',\n  parentId: '',\n  name: '',\n  type: 0,\n  path: '',\n  component: '',\n  perms: '',\n  icon: '',\n  sortValue: 1,\n  status: 1\n}\nexport default {\n  // 定义数据\n  data() {\n    return {\n      sysMenuList: [],\n      expandKeys: [], // 需要自动展开的项\n\n      typeDisabled: false,\n      type0Disabled: false,\n      type1Disabled: false,\n      type2Disabled: false,\n      dialogTitle: '',\n\n      dialogVisible: false,\n      sysMenu: defaultForm,\n      saveBtnDisabled: false,\n\n      iconList: [\n        {\n          class: \"el-icon-s-tools\",\n        },\n        {\n          class: \"el-icon-s-custom\",\n        },\n        {\n          class: \"el-icon-setting\",\n        },\n        {\n          class: \"el-icon-user-solid\",\n        },\n        {\n          class: \"el-icon-s-help\",\n        },\n        {\n          class: \"el-icon-phone\",\n        },\n        {\n          class: \"el-icon-s-unfold\",\n        },\n        {\n          class: \"el-icon-s-operation\",\n        },\n        {\n          class: \"el-icon-more-outline\",\n        },\n        {\n          class: \"el-icon-s-check\",\n        },\n        {\n          class: \"el-icon-tickets\",\n        },\n        {\n          class: \"el-icon-s-goods\",\n        },\n        {\n          class: \"el-icon-document-remove\",\n        },\n        {\n          class: \"el-icon-warning\",\n        },\n        {\n          class: \"el-icon-warning-outline\",\n        },\n        {\n          class: \"el-icon-question\",\n        },\n        {\n          class: \"el-icon-info\",\n        }\n      ]\n    }\n  },\n\n  // 当页面加载时获取数据\n  created() {\n    this.fetchData()\n  },\n\n  methods: {\n    // 调用api层获取数据库中的数据\n    fetchData() {\n      console.log('加载列表')\n      api.findNodes().then(response => {\n        this.sysMenuList = response.data\n        console.log(this.sysMenuList)\n      })\n    },\n\n    // 根据id删除数据\n    removeDataById(id) {\n      // debugger\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => { // promise\n        // 点击确定，远程调用ajax\n        return api.removeById(id)\n      }).then((response) => {\n        this.fetchData()\n        this.$message({\n          type: 'success',\n          message: '删除成功!'\n        })\n      }).catch(() => {\n         this.$message.info('取消删除')\n      })\n    },\n\n    // -------------\n    add(row){\n      debugger\n      this.typeDisabled = false\n      this.dialogTitle = '添加下级节点'\n      this.dialogVisible = true\n\n      this.sysMenu = Object.assign({}, defaultForm)\n      this.sysMenu.id = ''\n      if(row) {\n        this.sysMenu.parentId = row.id\n        this.sysMenu.parentName = row.name\n        //this.sysMenu.component = 'ParentView'\n        if(row.type === 0) {\n          this.sysMenu.type = 1\n          this.typeDisabled = false\n          this.type0Disabled = false\n          this.type1Disabled = false\n          this.type2Disabled = true\n        } else if(row.type === 1) {\n          this.sysMenu.type = 2\n          this.typeDisabled = true\n        }\n      } else {\n        this.dialogTitle = '添加目录节点'\n        this.sysMenu.type = 0\n        this.sysMenu.component = 'Layout'\n        this.sysMenu.parentId = 0\n        this.typeDisabled = true\n      }\n    },\n\n    edit(row) {\n      debugger\n      this.dialogTitle = '修改节点'\n      this.dialogVisible = true\n\n      this.sysMenu = Object.assign({}, row)\n      this.typeDisabled = true\n    },\n\n    saveOrUpdate() {\n      if(this.sysMenu.type === 0 && this.sysMenu.parentId !== 0) {\n        this.sysMenu.component = 'ParentView'\n      }\n      this.$refs.dataForm.validate(valid => {\n        if (valid) {\n          this.saveBtnDisabled = true // 防止表单重复提交\n          if (!this.sysMenu.id) {\n            this.saveData()\n          } else {\n            this.updateData()\n          }\n        }\n      })\n    },\n\n    // 新增\n    saveData() {\n      api.save(this.sysMenu).then(response => {\n        this.$message.success(response.message || '操作成功')\n        this.dialogVisible = false\n        this.fetchData(this.page)\n      })\n    },\n\n    // 根据id更新记录\n    updateData() {\n      api.updateById(this.sysMenu).then(response => {\n        this.$message.success(response.message || '操作成功')\n        this.dialogVisible = false\n        this.fetchData()\n      })\n    }\n  }\n}\n</script>"],"mappings":"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"}]}