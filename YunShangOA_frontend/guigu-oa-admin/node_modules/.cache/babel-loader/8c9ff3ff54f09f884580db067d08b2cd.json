{"remainingRequest":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/babel-loader/lib/index.js!/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/src/views/processSet/processTemplate/list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/src/views/processSet/processTemplate/list.vue","mtime":1685025371716},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/babel.config.js","mtime":1682639355350},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/catherine_sun/Documents/CS degree/Projects/YunShangOA/YunShangOA_frontend/guigu-oa-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhcGkgZnJvbSAnQC9hcGkvcHJvY2Vzcy9wcm9jZXNzVGVtcGxhdGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpc3RMb2FkaW5nOiB0cnVlLAogICAgICAvLyDmlbDmja7mmK/lkKbmraPlnKjliqDovb0KICAgICAgbGlzdDogbnVsbCwKICAgICAgLy8gYmFubmVy5YiX6KGoCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDmlbDmja7lupPkuK3nmoTmgLvorrDlvZXmlbAKICAgICAgcGFnZTogMSwKICAgICAgLy8g6buY6K6k6aG156CBCiAgICAgIGxpbWl0OiAxMCwKICAgICAgLy8g5q+P6aG16K6w5b2V5pWwCiAgICAgIHNlYXJjaE9iajoge30sCiAgICAgIC8vIOafpeivouihqOWNleWvueixoQoKICAgICAgcnVsZTogW10sCiAgICAgIG9wdGlvbjoge30sCiAgICAgIHByb2Nlc3NUZW1wbGF0ZToge30sCiAgICAgIGZvcm1EaWFsb2dWaXNpYmxlOiBmYWxzZQogICAgfTsKICB9LAogIC8vIOeUn+WRveWRqOacn+WHveaVsO+8muWGheWtmOWHhuWkh+WujOavle+8jOmhtemdouWwmuacqua4suafkwogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoRGF0YSgpOwogIH0sCiAgLy8g55Sf5ZG95ZGo5pyf5Ye95pWw77ya5YaF5a2Y5YeG5aSH5a6M5q+V77yM6aG16Z2i5riy5p+T5oiQ5YqfCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIC8vIOW9k+mhteeggeWPkeeUn+aUueWPmOeahOaXtuWAmQogICAgY2hhbmdlU2l6ZTogZnVuY3Rpb24gY2hhbmdlU2l6ZShzaXplKSB7CiAgICAgIHRoaXMubGltaXQgPSBzaXplOwogICAgICB0aGlzLmZldGNoRGF0YSgxKTsKICAgIH0sCiAgICAvLyDliqDovb1iYW5uZXLliJfooajmlbDmja4KICAgIGZldGNoRGF0YTogZnVuY3Rpb24gZmV0Y2hEYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgcGFnZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMTsKICAgICAgLy8g5byC5q2l6I635Y+W6L+c56iL5pWw5o2u77yIYWpheO+8iQogICAgICB0aGlzLnBhZ2UgPSBwYWdlOwogICAgICBhcGkuZ2V0UGFnZUxpc3QodGhpcy5wYWdlLCB0aGlzLmxpbWl0LCB0aGlzLnNlYXJjaE9iaikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5saXN0ID0gcmVzcG9uc2UuZGF0YS5yZWNvcmRzOwogICAgICAgIF90aGlzLnRvdGFsID0gcmVzcG9uc2UuZGF0YS50b3RhbDsKICAgICAgICAvLyDmlbDmja7liqDovb3lubbnu5HlrprmiJDlip8KICAgICAgICBfdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDph43nva7mn6Xor6LooajljZUKICAgIHJlc2V0RGF0YTogZnVuY3Rpb24gcmVzZXREYXRhKCkgewogICAgICB0aGlzLnNlYXJjaE9iaiA9IHt9OwogICAgICB0aGlzLmZldGNoRGF0YSgpOwogICAgfSwKICAgIC8vIOagueaNrmlk5Yig6Zmk5pWw5o2uCiAgICByZW1vdmVEYXRhQnlJZDogZnVuY3Rpb24gcmVtb3ZlRGF0YUJ5SWQoaWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeiusOW9lSwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBwcm9taXNlCiAgICAgICAgLy8g54K55Ye756Gu5a6a77yM6L+c56iL6LCD55SoYWpheAogICAgICAgIHJldHVybiBhcGkucmVtb3ZlQnlJZChpZCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLmZldGNoRGF0YShfdGhpczIucGFnZSk7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MocmVzcG9uc2UubWVzc2FnZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuJG1lc3NhZ2UuaW5mbygn5Y+W5raI5Yig6ZmkJyk7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZDogZnVuY3Rpb24gYWRkKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3Byb2Nlc3NTZXQvdGVtcGxhdGVTZXQnKTsKICAgIH0sCiAgICBlZGl0OiBmdW5jdGlvbiBlZGl0KGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcHJvY2Vzc1NldC90ZW1wbGF0ZVNldD9pZD0nICsgaWQpOwogICAgfSwKICAgIHNob3c6IGZ1bmN0aW9uIHNob3cocm93KSB7CiAgICAgIHRoaXMucnVsZSA9IEpTT04ucGFyc2Uocm93LmZvcm1Qcm9wcyk7CiAgICAgIHRoaXMub3B0aW9uID0gSlNPTi5wYXJzZShyb3cuZm9ybU9wdGlvbnMpOwogICAgICB0aGlzLnByb2Nlc3NUZW1wbGF0ZSA9IHJvdzsKICAgICAgdGhpcy5mb3JtRGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgcHVibGlzaDogZnVuY3Rpb24gcHVibGlzaChpZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgYXBpLnB1Ymxpc2goaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WPkeW4g+aIkOWKnycpOwogICAgICAgIF90aGlzMy5mZXRjaERhdGEoX3RoaXMzLnBhZ2UpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["api","data","listLoading","list","total","page","limit","searchObj","rule","option","processTemplate","formDialogVisible","created","fetchData","mounted","methods","changeSize","size","_this","arguments","length","undefined","getPageList","then","response","records","resetData","removeDataById","id","_this2","$confirm","confirmButtonText","cancelButtonText","type","removeById","$message","success","message","catch","info","add","$router","push","edit","show","row","JSON","parse","formProps","formOptions","publish","_this3"],"sources":["src/views/processSet/processTemplate/list.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <!-- 工具条 -->\n    <div class=\"tools-div\">\n      <el-button type=\"success\" icon=\"el-icon-plus\" size=\"mini\" @click=\"add()\" :disabled=\"$hasBP('bnt.processTemplate.templateSet')  === false\">添加审批设置</el-button>\n    </div>\n    <!-- 列表 -->\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"list\"\n      stripe\n      border\n      style=\"width: 100%;margin-top: 10px;\"\n    >\n      <el-table-column\n        label=\"序号\"\n        width=\"70\"\n        align=\"center\"\n      >\n        <template slot-scope=\"scope\">\n          {{ (page - 1) * limit + scope.$index + 1 }}\n        </template>\n      </el-table-column>iconPath\n      <el-table-column prop=\"name\" label=\"审批名称\"/>\n      <el-table-column label=\"图标\">\n        <template slot-scope=\"scope\">\n          <img :src=\"scope.row.iconUrl\" style=\"width: 30px;height: 30px;vertical-align: text-bottom;\">\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"processTypeName\" label=\"审批类型\"/>\n      <el-table-column prop=\"description\" label=\"描述\"/>\n      <el-table-column prop=\"createTime\" label=\"创建时间\"/>\n      <el-table-column prop=\"updateTime\" label=\"更新时间\"/>\n      <el-table-column label=\"操作\" width=\"250\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" size=\"mini\" @click=\"show(scope.row)\">查看审批模版</el-button>\n          <el-button type=\"text\" v-if=\"scope.row.status == 0\" size=\"mini\" @click=\"edit(scope.row.id)\" :disabled=\"$hasBP('bnt.processTemplate.templateSet')  === false\">修改审批设置</el-button>\n          <el-button type=\"text\" v-if=\"scope.row.status == 0\" size=\"mini\" @click=\"removeDataById(scope.row.id)\" :disabled=\"$hasBP('bnt.processTemplate.remove')  === false\">删除</el-button>\n          <el-button v-if=\"scope.row.status == 0\" type=\"text\" size=\"mini\" @click=\"publish(scope.row.id)\" :disabled=\"$hasBP('bnt.processTemplate.publish')  === false\">发布</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!-- 分页组件 -->\n    <el-pagination\n      :current-page=\"page\"\n      :total=\"total\"\n      :page-size=\"limit\"\n      :page-sizes=\"[5, 10, 20, 30, 40, 50, 100]\"\n      style=\"padding: 30px 0; text-align: center;\"\n      layout=\"sizes, prev, pager, next, jumper, ->, total, slot\"\n      @current-change=\"fetchData\"\n      @size-change=\"changeSize\"\n    />\n\n    <el-dialog title=\"查看审批设置\" :visible.sync=\"formDialogVisible\" width=\"35%\">\n        <h3>基本信息</h3>\n        <el-divider/>\n        <el-form ref=\"flashPromotionForm\" label-width=\"150px\" size=\"small\" style=\"padding-right: 40px;\">\n            <el-form-item label=\"审批类型\" style=\"margin-bottom: 0px;\">{{ processTemplate.processTypeName }}</el-form-item>\n            <el-form-item label=\"名称\" style=\"margin-bottom: 0px;\">{{ processTemplate.name }}</el-form-item>\n            <el-form-item label=\"创建时间\" style=\"margin-bottom: 0px;\">{{ processTemplate.createTime }}</el-form-item>\n        </el-form>\n        <h3>表单信息</h3>\n        <el-divider/>\n        <div>\n            <form-create\n            :rule=\"rule\"\n            :option=\"option\"\n            ></form-create>\n        </div>\n        <span slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"formDialogVisible = false\" size=\"small\">取 消</el-button>\n        </span>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport api from '@/api/process/processTemplate'\n\nexport default {\n  data() {\n    return {\n      listLoading: true, // 数据是否正在加载\n      list: null, // banner列表\n      total: 0, // 数据库中的总记录数\n      page: 1, // 默认页码\n      limit: 10, // 每页记录数\n      searchObj: {}, // 查询表单对象\n\n      rule: [],\n      option: {},\n      processTemplate: {},\n      formDialogVisible: false\n    }\n  },\n  // 生命周期函数：内存准备完毕，页面尚未渲染\n  created() {\n    this.fetchData()\n  },\n  // 生命周期函数：内存准备完毕，页面渲染成功\n  mounted() {\n  },\n  methods: {\n    // 当页码发生改变的时候\n    changeSize(size) {\n      this.limit = size\n      this.fetchData(1)\n    },\n    // 加载banner列表数据\n    fetchData(page = 1) {\n      // 异步获取远程数据（ajax）\n      this.page = page\n      api.getPageList(this.page, this.limit, this.searchObj).then(\n        response => {\n          this.list = response.data.records\n          this.total = response.data.total\n          // 数据加载并绑定成功\n          this.listLoading = false\n        }\n      )\n    },\n    // 重置查询表单\n    resetData() {\n      this.searchObj = {}\n      this.fetchData()\n    },\n    // 根据id删除数据\n    removeDataById(id) {\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => { // promise\n        // 点击确定，远程调用ajax\n        return api.removeById(id)\n      }).then((response) => {\n        this.fetchData(this.page)\n        this.$message.success(response.message)\n      }).catch(() => {\n        this.$message.info('取消删除')\n      })\n    },\n    add() {\n      this.$router.push('/processSet/templateSet')\n    },\n    edit(id) {\n      this.$router.push('/processSet/templateSet?id=' + id)\n    },\n    show(row) {\n        this.rule = JSON.parse(row.formProps)\n        this.option = JSON.parse(row.formOptions)\n        this.processTemplate = row\n        this.formDialogVisible = true\n    },\n    publish(id) {\n        api.publish(id).then(response => {\n            this.$message.success('发布成功')\n            this.fetchData(this.page)\n        })\n    }\n  }\n}\n</script>"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA,OAAAA,GAAA;AAEA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,WAAA;MAAA;MACAC,IAAA;MAAA;MACAC,KAAA;MAAA;MACAC,IAAA;MAAA;MACAC,KAAA;MAAA;MACAC,SAAA;MAAA;;MAEAC,IAAA;MACAC,MAAA;MACAC,eAAA;MACAC,iBAAA;IACA;EACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,SAAA;EACA;EACA;EACAC,OAAA,WAAAA,QAAA,GACA;EACAC,OAAA;IACA;IACAC,UAAA,WAAAA,WAAAC,IAAA;MACA,KAAAX,KAAA,GAAAW,IAAA;MACA,KAAAJ,SAAA;IACA;IACA;IACAA,SAAA,WAAAA,UAAA;MAAA,IAAAK,KAAA;MAAA,IAAAb,IAAA,GAAAc,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA;MACA;MACA,KAAAd,IAAA,GAAAA,IAAA;MACAL,GAAA,CAAAsB,WAAA,MAAAjB,IAAA,OAAAC,KAAA,OAAAC,SAAA,EAAAgB,IAAA,CACA,UAAAC,QAAA;QACAN,KAAA,CAAAf,IAAA,GAAAqB,QAAA,CAAAvB,IAAA,CAAAwB,OAAA;QACAP,KAAA,CAAAd,KAAA,GAAAoB,QAAA,CAAAvB,IAAA,CAAAG,KAAA;QACA;QACAc,KAAA,CAAAhB,WAAA;MACA,EACA;IACA;IACA;IACAwB,SAAA,WAAAA,UAAA;MACA,KAAAnB,SAAA;MACA,KAAAM,SAAA;IACA;IACA;IACAc,cAAA,WAAAA,eAAAC,EAAA;MAAA,IAAAC,MAAA;MACA,KAAAC,QAAA;QACAC,iBAAA;QACAC,gBAAA;QACAC,IAAA;MACA,GAAAV,IAAA;QAAA;QACA;QACA,OAAAvB,GAAA,CAAAkC,UAAA,CAAAN,EAAA;MACA,GAAAL,IAAA,WAAAC,QAAA;QACAK,MAAA,CAAAhB,SAAA,CAAAgB,MAAA,CAAAxB,IAAA;QACAwB,MAAA,CAAAM,QAAA,CAAAC,OAAA,CAAAZ,QAAA,CAAAa,OAAA;MACA,GAAAC,KAAA;QACAT,MAAA,CAAAM,QAAA,CAAAI,IAAA;MACA;IACA;IACAC,GAAA,WAAAA,IAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;IACAC,IAAA,WAAAA,KAAAf,EAAA;MACA,KAAAa,OAAA,CAAAC,IAAA,iCAAAd,EAAA;IACA;IACAgB,IAAA,WAAAA,KAAAC,GAAA;MACA,KAAArC,IAAA,GAAAsC,IAAA,CAAAC,KAAA,CAAAF,GAAA,CAAAG,SAAA;MACA,KAAAvC,MAAA,GAAAqC,IAAA,CAAAC,KAAA,CAAAF,GAAA,CAAAI,WAAA;MACA,KAAAvC,eAAA,GAAAmC,GAAA;MACA,KAAAlC,iBAAA;IACA;IACAuC,OAAA,WAAAA,QAAAtB,EAAA;MAAA,IAAAuB,MAAA;MACAnD,GAAA,CAAAkD,OAAA,CAAAtB,EAAA,EAAAL,IAAA,WAAAC,QAAA;QACA2B,MAAA,CAAAhB,QAAA,CAAAC,OAAA;QACAe,MAAA,CAAAtC,SAAA,CAAAsC,MAAA,CAAA9C,IAAA;MACA;IACA;EACA;AACA"}]}