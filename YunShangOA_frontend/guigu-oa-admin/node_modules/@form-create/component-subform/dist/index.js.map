{"version":3,"file":"index.js","sources":["../../../../node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js","../src/component.jsx"],"sourcesContent":["\"use strict\";function _extends(){return _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}var normalMerge=[\"attrs\",\"props\",\"domProps\"],toArrayMerge=[\"class\",\"style\",\"directives\"],functionalMerge=[\"on\",\"nativeOn\"],mergeJsxProps=function(a){return a.reduce(function(c,a){for(var b in a)if(!c[b])c[b]=a[b];else if(-1!==normalMerge.indexOf(b))c[b]=_extends({},c[b],a[b]);else if(-1!==toArrayMerge.indexOf(b)){var d=c[b]instanceof Array?c[b]:[c[b]],e=a[b]instanceof Array?a[b]:[a[b]];c[b]=d.concat(e)}else if(-1!==functionalMerge.indexOf(b)){for(var f in a[b])if(c[b][f]){var g=c[b][f]instanceof Array?c[b][f]:[c[b][f]],h=a[b][f]instanceof Array?a[b][f]:[a[b][f]];c[b][f]=g.concat(h)}else c[b][f]=a[b][f];}else if(\"hook\"==b)for(var i in a[b])c[b][i]=c[b][i]?mergeFn(c[b][i],a[b][i]):a[b][i];else c[b]=a[b];return c},{})},mergeFn=function(a,b){return function(){a&&a.apply(this,arguments),b&&b.apply(this,arguments)}};module.exports=mergeJsxProps;\n","const NAME = 'fcSubForm';\n\nexport default {\n    name: NAME,\n    props: {\n        rule: Array,\n        options: Object,\n        formCreateInject: {\n            type: Object,\n            required: true,\n        },\n        value: {\n            type: Object,\n            default: () => ({})\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        syncDisabled: {\n            type: Boolean,\n            default: true\n        },\n    },\n    data() {\n        return {\n            cacheRule: {},\n            cacheValue: {},\n            type: undefined\n        }\n    },\n    watch: {\n        disabled(n) {\n            this.syncDisabled && this.cacheRule.$f.disabled(n);\n        },\n        value(n) {\n            this.setValue(n);\n        }\n    },\n    methods: {\n        formData(value) {\n            this.cacheValue = JSON.stringify(value);\n            this.$emit('input', value);\n            this.$emit('change', value);\n        },\n        setValue(value) {\n            const str = JSON.stringify(value);\n            if (this.cacheValue === str) {\n                return;\n            }\n            this.cacheValue = str;\n            this.cacheRule.$f.coverValue(value || {});\n        },\n        addRule() {\n            const options = this.options ? this.options : {\n                submitBtn: false,\n                resetBtn: false,\n            };\n            options.formData = {...(this.value || {})};\n            this.cacheRule = {rule: this.rule, options};\n        },\n        add$f($f) {\n            this.cacheRule.$f = $f;\n            this.$nextTick(() => {\n                this.syncDisabled && $f.disabled(this.disabled);\n                this.$emit('itemMounted', $f);\n            });\n        },\n        emitEvent(name, ...args) {\n            this.$emit(name, ...args);\n        }\n    },\n    created() {\n        this.addRule();\n        this.type = this.formCreateInject.form.$form();\n    },\n    render() {\n        const {rule, options} = this.cacheRule;\n        const Type = this.type;\n        return <Type\n            on={{\n                'update:value': this.formData,\n                'emit-event': this.emitEvent,\n                input: this.add$f\n            }}\n            props={{rule, option: options, extendOption: true}}/>\n    }\n}\n"],"names":["_extends","Object","assign","a","b","c","arguments","length","d","prototype","hasOwnProperty","call","apply","this","normalMerge","toArrayMerge","functionalMerge","mergeFn","reduce","indexOf","Array","e","concat","f","g","h","i","name","props","rule","options","formCreateInject","type","required","value","disabled","Boolean","syncDisabled","data","cacheRule","cacheValue","undefined","watch","n","$f","setValue","methods","formData","JSON","stringify","$emit","str","coverValue","addRule","submitBtn","resetBtn","add$f","$nextTick","_this","emitEvent","args","created","form","$form","render","input","option","extendOption"],"mappings":"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"}