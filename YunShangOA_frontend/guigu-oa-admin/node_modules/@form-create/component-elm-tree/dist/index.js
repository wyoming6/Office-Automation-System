/*!
 * @form-create/component-elm-tree v2.5.27
 * (c) 2018-2022 xaboy
 * Github https://github.com/xaboy/form-create with @form-create/component-elm-tree
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).FcTree=t()}(this,function(){"use strict";function e(){return(e=Object.assign||function(e){for(var t,r=1;r<arguments.length;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)}var t=["attrs","props","domProps"],r=["class","style","directives"],n=["on","nativeOn"],i=function(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}},o=function(o){return o.reduce(function(o,s){for(var a in s)if(o[a])if(-1!==t.indexOf(a))o[a]=e({},o[a],s[a]);else if(-1!==r.indexOf(a)){var u=o[a]instanceof Array?o[a]:[o[a]],f=s[a]instanceof Array?s[a]:[s[a]];o[a]=u.concat(f)}else if(-1!==n.indexOf(a))for(var c in s[a])if(o[a][c]){var l=o[a][c]instanceof Array?o[a][c]:[o[a][c]],p=s[a][c]instanceof Array?s[a][c]:[s[a][c]];o[a][c]=l.concat(p)}else o[a][c]=s[a][c];else if("hook"==a)for(var d in s[a])o[a][d]=o[a][d]?i(o[a][d],s[a][d]):s[a][d];else o[a]=s[a];else o[a]=s[a];return o},{})};return{name:"fcTree",formCreateParser:{mergeProp:function(e){var t=e.prop.props;t.nodeKey||(t.nodeKey="id"),t.props||(t.props={label:"title"})}},props:{formCreateInject:{type:Object,required:!0},type:{type:String,default:"checked"},value:{type:[Array,String,Number],default:function(){return[]}}},watch:{value:function(){this.setValue()}},methods:{onChange:function(){this.updateValue()},updateValue:function(){var e;this.$refs.tree&&(e="selected"===this.type.toLocaleLowerCase()?this.$refs.tree.getCurrentKey():this.$refs.tree.getCheckedKeys(),this.$emit("input",e))},setValue:function(){var e;"selected"===this.type.toLocaleLowerCase()?this.$refs.tree.setCurrentKey(this.value):this.$refs.tree.setCheckedKeys((e=this.value,Array.isArray(e)?e:[null,void 0,""].indexOf(e)>-1?[]:[e]))}},render:function(){var e,t,r=this;return(0,arguments[0])("ElTree",o([{},this.formCreateInject.prop,{ref:"tree",on:{check:function(){return r.updateValue()},"node-click":function(){return r.updateValue()}}}]),[(e=this.$slots,Object.keys(e).reduce(function(r,n){return t&&-1!==t.indexOf(n)||r.push(e[n]),r},[]))])},mounted:function(){this.setValue()}}});
//# sourceMappingURL=index.js.map
